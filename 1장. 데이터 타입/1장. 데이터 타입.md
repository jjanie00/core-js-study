# 1장. 데이터 타입
## 01. 데이터 타입의 종류
### 자바스크립트의 데이터 타입에는 크게 두가지가 있다
#### 1. 기본형 (Primitve Type)
- Number
- String
- Boolean
- null
- undefined
- Symbol
#### 2. 참조형 (Reference Type)
기본적으로는 객체
- Array
- Function
- Date
- RegExp
- Map, WeakMap
- Set, WeakSet

<br>

### 그런데, 어떤 기준으로 기본형과 참조형이 구분될까?
#### 기본형은 할당,연산 시 복제되고, 참조형은 참조된다고 이해하면 안된다!
- JS는 call by value도, call by reference도 아닌 call by sharing으로 동작한다.

<br>

## 02. 데이터 타입에 관한 배경지식
### 모든 데이터는 바이트 단위의 식별자인 메모리 주소값을 통해 서로 구분되고 연결할 수 있다.
- JS는 C, Java와 달리 형변환을 걱정해야 하는 상황이 훨씬 덜 발생한다.
  - 예를 들어, 숫자의 경우 아묻따 64비트, 8바이트를 확보해버리기 때문!

<br>

## 03. 변수 선언과 데이터 할당
### 변수와 식별자는 다르다
- 식별자는 변수명!
- 변수는 데이터를 저장하기 위해 확보한 메모리 공간 자체

<br>

### 데이터 할당 흐름 살펴보기
```js
var a;
a = 'abc';
```
1. 메모리 공간 확보
2. 확보한 공간의 식별자 a로 지정
3. 메모리 공간의 빈 공간에 abc 저장
4. a라는 식별자를 검색
5. abc의 주소값을 a라는 식별자의 메모리 공간에 저장

<br>

### 왜 이렇게 a의 식별자 메모리 공간에 바로 abc를 저장하지 않고, 주소값을 통해 한번 더 거쳐서 저장할까?
#### 그렇게 하는 것이 최적이기 때문인데, 왜 그것이 최적일까?
- 만약, a 변수의 문자열이 엄청 길어져서 기존의 메모리 공간보다 더 큰 공간을 필요로 하게 된다면?
- a 변수 뒤의 메모리 공간에 여유가 있다면, 그냥 메모리 공간을 늘리기만 하면 되지만 뒤의 메모리 공간도 이미 사용중이라면?
  - 새로운 메모리 공간 할당이 필요하겠네.
- 근데 그러면 한단계 더 거칠 필요 없이 새로운 메모리 공간을 항상 뒤에서부터 할당하면 되는거 아닌가?
  - 이 경우, 500개의 변수가 같은 값을 가진다고 해도 메모리 공간을 계속 할당해주어야 하니까 한단계 더 거쳐서 메모리 공간을 할당하고 그 주소값만 복사하는게 최적이구나


<br>

## 04. 기본형 데이터와 참조형 데이터
### 기본형 데이터는 모두 불변값이다
- 문자나 숫자 모두 변경할 수 있는 값이지 않나? 생각할 수 있다.
- 실제로는 변경되는 것이 아니라 메모리에 값이 재할당되는 것
  - 그렇기 때문에 불변값이다

<br>

### 참조형 데이터는 가변값인 경우가 많지만, 불변값으로 활용하는 방법도 있다.
- 참조형 데이터는 메모리 공간을 얼마나 써야할지 명확하지 않다.
  - 그래서, 메모리 주소 값 레이어를 한층 더 쌓는다. (메모리를 한번 더 참조한다)

```js
var obj1 = {
  a: 1,
  b: 'bbb',
}
```
- 위의 객체에서 `obj1.a = 2;` 를 실행하면 `obj1`이 참조하고있는 주소값이 변경되지는 않는다.
- 새로 2라는 값이 메모리 공간에 할당되고, 참조하고 있는 주소값이 가리키는 주소값이 변경된다.
- 기존에 1이 저장되어있던 메모리 공간이 더 이상 활용되지 않으면 GC의 수거 대상이 된다.

<br>

### 기본형 데이터와 참조형 데이터의 변수 복사 비교
```js
var a = 10;
var b = a;
var obj1 = { c: 10, d: 'ddd' };
var obj2 = obj1;

b = 15;
obj2.c = 20;
```

<br>

#### 기본형 데이터
- 평소에 생각하는 복사와 동일하다.
- 처음에는 a와 b가 같은 주소를 참조하고 있다.
  - 같은 값인 10을 가지고 있기 때문
- 이때, b의 값이 변경되면?
  - 다른 주소값에 새로 15가 할당되고 그 주소값을 b가 가지게 된다.
- 즉 결과적으로 a와 b는 서로 다른 주소를 바라보게 되는 것

<br>

#### 참조형 데이터
- 참조형 데이터는 `obj2.c`의 값을 변경했을 뿐인데, `obj1`의 `c` 값도 같이 변경된다.
- 아예 다르게 하고싶다면 `obj2 = { c : 20, d : 'ddd'};` 와 같이 객체를 새로 할당해야한다.

<br>

## 05. 불변 객체
### 불변 객체는 프로그래밍 시, 복잡성을 줄여주는 좋은 역할을 한다
- 어떤 함수를 사용하는데 그 함수가 원본 객체의 값도 변경시켜버린다면??
  - 참조형 데이터를 이용하는 경우, 위처럼 참조형 데이터의 특징때문에 이런일이 일어날 수 있다
  - 프로그래밍 시, 디버깅도 힘들고 복잡성도 늘어날 듯
- 책에서 소개하는 방법들을 사용해 객체를 복사하거나, immutable.js, baobab.js 와 같은 라이브러리를 사용하는 것도 좋겠다

<br>

## 06. undefined와 null
- 없음을 의미하는 값이 undefined와 null이다.

<br>

### undefined
- 값을 대입하지 않은 변수 (선언만 한 상태)
- 객체 내부의 존재하지 않는 값에 접근할 때 등등에서 발생할 수 있다
- 그렇다고 비어있는 값은 아니다

### null
- 명시적으로 비어있음을 나타내고 싶을 때 사용

### 없다는 의미를 나타내고 싶다면 undefined를 사용하지말고, null을 할당해서 사용하자
- `type of null` 은 `object`로 나오므로 일치연산자로 체크하자

